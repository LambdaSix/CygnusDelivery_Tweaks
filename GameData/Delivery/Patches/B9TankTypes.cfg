// Let the service module switch it's fuel between the same options as other tanks.
@PART[_cygnus_service_module_s1p5_1]:NEEDS[Delivery]
{
    !MODULE[TankContentSwitcher] {}
	MODULE
	{
		name = TankContentSwitcher
		useVolume = true
		
		TANK_TYPE_OPTION 
		{
			name = LFO
			dryDensity = 0.1089
			costMultiplier = 0.5625
			RESOURCE 
			{
				name = LiquidFuel
				unitsPerT = 720
			}
			RESOURCE 
			{
				name = Oxidizer
				unitsPerT = 880
			}
		}
		TANK_TYPE_OPTION 
		{
			name = LiquidFuel
			dryDensity = 0.1089
			costMultiplier = 0.5625
			RESOURCE 
			{
				name = LiquidFuel
				unitsPerT = 1600
			}
		}
		TANK_TYPE_OPTION
		{
			name = Oxidizer
			dryDensity = 0.1089
			costMultiplier = 0.5625

			RESOURCE 
			{
				name = Oxidizer
				unitsPerT = 1600
			}
		}
		TANK_TYPE_OPTION 
		{
			name = MonoPropellant
			dryDensity = 0.1089
			costMultiplier = 0.5625
			
			RESOURCE 
			{
				name = MonoPropellant
				unitsPerT = 2000
			}
		}
		TANK_TYPE_OPTION 
		{
			// Borrowed from LqdHydrogen
			name = XenonGas
			dryDensity = 0.0503118
			costMultiplier = 0.5625
			
			RESOURCE 
			{
				name = XenonGas
				unitsPerT = 28571.43
			}
		}
		TANK_TYPE_OPTION 
		{
			name = Structural
			dryDensity = 0.05
			isStructural = true
			
			costMultiplier = 0.5625
		}
		TANK_TYPE_OPTION:NEEDS[CryoTanks]
		{
			name = LqdHydrogen
			dryDensity = 0.01417 // kg of tank mass per liter (1 unit) of LqdHydrogen, 20% of wet-mass
			costMultiplier = 0.035
			// Based on observation that LH2 is 1/20 the cost of LF
			RESOURCE
			{
				name = LqdHydrogen
				// How many units (1 liter) of LqdHydrogen fit into 1 metric tonne of tank
				// 0.01417 kg tank per liter LqdHydrogen
				// 70.5716 liter per kg tank
				// 70571.6 liter per metric tonne of tank
				unitsPerT = 70571.6
			}
		}
		TANK_TYPE_OPTION:NEEDS[CryoTanks]
		{
			name = LqdHydrogen+Oxidizer
			dryDensity = 0.0775 // in kg/L, not the more "KSP community resource pack typical" metric tonnes/L or 1000 kg/L
			costMultiplier = 0.785

			RESOURCE
			{
				name = LqdHydrogen
				unitsPerT = 9677.4
			}
			RESOURCE
			{
				name = Oxidizer
				unitsPerT = 645.2
			}
		}
	}

	MODULE
	{
		name =  ModuleCryoTank
		// in Ec per 1000 units per second
		CoolingEnabled = True
		BOILOFFCONFIG
		{
			FuelName = LqdHydrogen
			// in % per hr
			BoiloffRate = 0.05
			CoolingCost = 0.05
		}
    	BOILOFFCONFIG
		{
			FuelName = LqdMethane
			// in % per hr
			BoiloffRate = 0.005
			CoolingCost = 0.02
		}
	}
}
